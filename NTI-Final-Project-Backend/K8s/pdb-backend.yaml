# Backend PDB - API Service Protection
# Limits disruptions to maximum 1 pod at a time
apiVersion: policy/v1
kind: PodDisruptionBudget
metadata:
  name: backend-pdb
  namespace: final-project
  labels:
    app: backend
    tier: backend
    pdb/final-project: "true"
spec:
  maxUnavailable: 1  # Explicitly allow only 1 pod disruption
  selector:
    matchLabels:
      app: backend
      component: api
      tier: backend
  unhealthyPodEvictionPolicy: AlwaysAllow
